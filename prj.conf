CONFIG_GPIO=y

# Debug mode
CONFIG_DEBUG=y

## Logging
CONFIG_LOG=y # Global switch, turns on/off the logging.
CONFIG_LOG_MODE_DEFERRED=y
CONFIG_LOG_PRINTK=y
CONFIG_LOG_PRINTK_MAX_STRING_LENGTH=256
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_BUFFER_SIZE=1024
CONFIG_CBPRINTF_LIBC_SUBSTS=y
#CONFIG_LOG_MIPI_SYST_ENABLE=y
CONFIG_LOG_BACKEND_UART_SYST_ENABLE=y
CONFIG_SOC_LOG_LEVEL_OFF=y
CONFIG_ARCH_LOG_LEVEL_OFF=y
CONFIG_KERNEL_LOG_LEVEL_OFF=y
#CONFIG_LOG_RUNTIME_FILTERING=y
CONFIG_LOG_FUNC_NAME_PREFIX_DBG=y
CONFIG_LOG_PROCESS_THREAD=y
CONFIG_LOG_PROCESS_THREAD_SLEEP_MS=100
CONFIG_LOG_PROCESS_TRIGGER_THRESHOLD=2
CONFIG_LOG_PROCESS_THREAD_STACK_SIZE=4096

CONFIG_MAIN_THREAD_PRIORITY=5

CONFIG_HEAP_MEM_POOL_SIZE=256
CONFIG_ASSERT=y

# CAN bus
CONFIG_CAN=y
CONFIG_CAN_MAX_FILTER=8
CONFIG_CAN_FD_MODE=y

CONFIG_ISOTP=y
CONFIG_ISOTP_RX_BUF_COUNT=2
#A frame has 7 bytes payload, we are using a BS of 8 and need one char for the
#string termination (7 * 8 + 1 = 57)
CONFIG_ISOTP_RX_BUF_SIZE=57
#We have two receiving contexts from Jetson and Security MCU
CONFIG_ISOTP_RX_SF_FF_BUF_COUNT=2


## Regulator
CONFIG_REGULATOR=y
CONFIG_REGULATOR_FIXED=y
CONFIG_REGULATOR_FIXED_INIT_PRIORITY=75


### Device Firmware Upgrade
CONFIG_MCUBOOT_BOOTUTIL_LIB=y
CONFIG_CONSOLE_HANDLER=y

CONFIG_SYSTEM_CLOCK_DISABLE=y
CONFIG_SYS_POWER_MANAGEMENT=n

CONFIG_MAIN_STACK_SIZE=10240
CONFIG_MBEDTLS_CFG_FILE="mcuboot-mbedtls-cfg.h"

CONFIG_BOOT_SWAP_SAVE_ENCTLV=n
CONFIG_BOOT_ENCRYPT_RSA=n
CONFIG_BOOT_ENCRYPT_EC256=n
CONFIG_BOOT_ENCRYPT_X25519=n

CONFIG_BOOT_UPGRADE_ONLY=n
CONFIG_BOOT_BOOTSTRAP=n

CONFIG_FLASH=y

CONFIG_TINYCBOR=y

## ^ End Device Firmware Upgrade


# TODO define in overlay file
CONFIG_BOOT_SERIAL_DETECT_PORT="GPIO_C"
CONFIG_BOOT_SERIAL_DETECT_PIN=13
